{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "fa945c34-2aaa-447b-8d61-f4ed89e57154",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>row#</th>\n",
       "      <th>user_id</th>\n",
       "      <th>vehicle_model_id</th>\n",
       "      <th>package_id</th>\n",
       "      <th>travel_type_id</th>\n",
       "      <th>from_area_id</th>\n",
       "      <th>to_area_id</th>\n",
       "      <th>from_city_id</th>\n",
       "      <th>to_city_id</th>\n",
       "      <th>from_date</th>\n",
       "      <th>to_date</th>\n",
       "      <th>online_booking</th>\n",
       "      <th>mobile_site_booking</th>\n",
       "      <th>booking_created</th>\n",
       "      <th>from_lat</th>\n",
       "      <th>from_long</th>\n",
       "      <th>to_lat</th>\n",
       "      <th>to_long</th>\n",
       "      <th>Car_Cancellation</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "      <td>17712</td>\n",
       "      <td>12</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2</td>\n",
       "      <td>1021.0</td>\n",
       "      <td>1323.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1/1/13 22:33</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1/1/13 8:01</td>\n",
       "      <td>13.028530</td>\n",
       "      <td>77.54625</td>\n",
       "      <td>12.869805</td>\n",
       "      <td>77.653211</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2</td>\n",
       "      <td>17037</td>\n",
       "      <td>12</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2</td>\n",
       "      <td>455.0</td>\n",
       "      <td>1330.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1/1/13 12:43</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1/1/13 9:59</td>\n",
       "      <td>12.999874</td>\n",
       "      <td>77.67812</td>\n",
       "      <td>12.953434</td>\n",
       "      <td>77.706510</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>3</td>\n",
       "      <td>761</td>\n",
       "      <td>12</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2</td>\n",
       "      <td>814.0</td>\n",
       "      <td>393.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1/2/13 0:28</td>\n",
       "      <td>1/3/13 0:00</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1/1/13 12:14</td>\n",
       "      <td>12.908993</td>\n",
       "      <td>77.68890</td>\n",
       "      <td>13.199560</td>\n",
       "      <td>77.706880</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>4</td>\n",
       "      <td>868</td>\n",
       "      <td>12</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2</td>\n",
       "      <td>297.0</td>\n",
       "      <td>212.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1/1/13 13:12</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1/1/13 12:42</td>\n",
       "      <td>12.997890</td>\n",
       "      <td>77.61488</td>\n",
       "      <td>12.994740</td>\n",
       "      <td>77.607970</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>5</td>\n",
       "      <td>21716</td>\n",
       "      <td>28</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2</td>\n",
       "      <td>1237.0</td>\n",
       "      <td>330.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1/1/13 16:33</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1/1/13 15:07</td>\n",
       "      <td>12.926450</td>\n",
       "      <td>77.61206</td>\n",
       "      <td>12.858833</td>\n",
       "      <td>77.589127</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   row#  user_id  vehicle_model_id  package_id  travel_type_id  from_area_id  \\\n",
       "0     1    17712                12         NaN               2        1021.0   \n",
       "1     2    17037                12         NaN               2         455.0   \n",
       "2     3      761                12         NaN               2         814.0   \n",
       "3     4      868                12         NaN               2         297.0   \n",
       "4     5    21716                28         NaN               2        1237.0   \n",
       "\n",
       "   to_area_id  from_city_id  to_city_id     from_date      to_date  \\\n",
       "0      1323.0           NaN         NaN  1/1/13 22:33          NaN   \n",
       "1      1330.0           NaN         NaN  1/1/13 12:43          NaN   \n",
       "2       393.0           NaN         NaN   1/2/13 0:28  1/3/13 0:00   \n",
       "3       212.0           NaN         NaN  1/1/13 13:12          NaN   \n",
       "4       330.0           NaN         NaN  1/1/13 16:33          NaN   \n",
       "\n",
       "   online_booking  mobile_site_booking booking_created   from_lat  from_long  \\\n",
       "0               0                    0     1/1/13 8:01  13.028530   77.54625   \n",
       "1               0                    0     1/1/13 9:59  12.999874   77.67812   \n",
       "2               1                    0    1/1/13 12:14  12.908993   77.68890   \n",
       "3               0                    0    1/1/13 12:42  12.997890   77.61488   \n",
       "4               0                    0    1/1/13 15:07  12.926450   77.61206   \n",
       "\n",
       "      to_lat    to_long  Car_Cancellation  \n",
       "0  12.869805  77.653211                 0  \n",
       "1  12.953434  77.706510                 0  \n",
       "2  13.199560  77.706880                 0  \n",
       "3  12.994740  77.607970                 0  \n",
       "4  12.858833  77.589127                 0  "
      ]
     },
     "execution_count": 1,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import pandas as pd\n",
    "\n",
    "# Load the CSV file\n",
 
    "# Display the first few rows of the original dataframe\n",
    "df.head()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "43fb51cd-a598-4c75-834c-934855d39f7d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>row#</th>\n",
       "      <th>user_id</th>\n",
       "      <th>vehicle_model_id</th>\n",
       "      <th>package_id</th>\n",
       "      <th>travel_type_id</th>\n",
       "      <th>from_area_id</th>\n",
       "      <th>to_area_id</th>\n",
       "      <th>from_city_id</th>\n",
       "      <th>to_city_id</th>\n",
       "      <th>from_date</th>\n",
       "      <th>to_date</th>\n",
       "      <th>online_booking</th>\n",
       "      <th>mobile_site_booking</th>\n",
       "      <th>booking_created</th>\n",
       "      <th>from_lat</th>\n",
       "      <th>from_long</th>\n",
       "      <th>to_lat</th>\n",
       "      <th>to_long</th>\n",
       "      <th>Car_Cancellation</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "      <td>17712</td>\n",
       "      <td>12</td>\n",
       "      <td>0.0</td>\n",
       "      <td>2</td>\n",
       "      <td>1021.0</td>\n",
       "      <td>1323.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1/1/13 22:33</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1/1/13 8:01</td>\n",
       "      <td>13.028530</td>\n",
       "      <td>77.54625</td>\n",
       "      <td>12.869805</td>\n",
       "      <td>77.653211</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2</td>\n",
       "      <td>17037</td>\n",
       "      <td>12</td>\n",
       "      <td>0.0</td>\n",
       "      <td>2</td>\n",
       "      <td>455.0</td>\n",
       "      <td>1330.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1/1/13 12:43</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1/1/13 9:59</td>\n",
       "      <td>12.999874</td>\n",
       "      <td>77.67812</td>\n",
       "      <td>12.953434</td>\n",
       "      <td>77.706510</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>3</td>\n",
       "      <td>761</td>\n",
       "      <td>12</td>\n",
       "      <td>0.0</td>\n",
       "      <td>2</td>\n",
       "      <td>814.0</td>\n",
       "      <td>393.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1/2/13 0:28</td>\n",
       "      <td>1/3/13 0:00</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1/1/13 12:14</td>\n",
       "      <td>12.908993</td>\n",
       "      <td>77.68890</td>\n",
       "      <td>13.199560</td>\n",
       "      <td>77.706880</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>4</td>\n",
       "      <td>868</td>\n",
       "      <td>12</td>\n",
       "      <td>0.0</td>\n",
       "      <td>2</td>\n",
       "      <td>297.0</td>\n",
       "      <td>212.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1/1/13 13:12</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1/1/13 12:42</td>\n",
       "      <td>12.997890</td>\n",
       "      <td>77.61488</td>\n",
       "      <td>12.994740</td>\n",
       "      <td>77.607970</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>5</td>\n",
       "      <td>21716</td>\n",
       "      <td>28</td>\n",
       "      <td>0.0</td>\n",
       "      <td>2</td>\n",
       "      <td>1237.0</td>\n",
       "      <td>330.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1/1/13 16:33</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1/1/13 15:07</td>\n",
       "      <td>12.926450</td>\n",
       "      <td>77.61206</td>\n",
       "      <td>12.858833</td>\n",
       "      <td>77.589127</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   row#  user_id  vehicle_model_id  package_id  travel_type_id  from_area_id  \\\n",
       "0     1    17712                12         0.0               2        1021.0   \n",
       "1     2    17037                12         0.0               2         455.0   \n",
       "2     3      761                12         0.0               2         814.0   \n",
       "3     4      868                12         0.0               2         297.0   \n",
       "4     5    21716                28         0.0               2        1237.0   \n",
       "\n",
       "   to_area_id  from_city_id  to_city_id     from_date      to_date  \\\n",
       "0      1323.0           0.0         0.0  1/1/13 22:33            0   \n",
       "1      1330.0           0.0         0.0  1/1/13 12:43            0   \n",
       "2       393.0           0.0         0.0   1/2/13 0:28  1/3/13 0:00   \n",
       "3       212.0           0.0         0.0  1/1/13 13:12            0   \n",
       "4       330.0           0.0         0.0  1/1/13 16:33            0   \n",
       "\n",
       "   online_booking  mobile_site_booking booking_created   from_lat  from_long  \\\n",
       "0               0                    0     1/1/13 8:01  13.028530   77.54625   \n",
       "1               0                    0     1/1/13 9:59  12.999874   77.67812   \n",
       "2               1                    0    1/1/13 12:14  12.908993   77.68890   \n",
       "3               0                    0    1/1/13 12:42  12.997890   77.61488   \n",
       "4               0                    0    1/1/13 15:07  12.926450   77.61206   \n",
       "\n",
       "      to_lat    to_long  Car_Cancellation  \n",
       "0  12.869805  77.653211                 0  \n",
       "1  12.953434  77.706510                 0  \n",
       "2  13.199560  77.706880                 0  \n",
       "3  12.994740  77.607970                 0  \n",
       "4  12.858833  77.589127                 0  "
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Replace all missing values with 0\n",
    "df_filled = df.fillna(0)\n",
    "\n",
    "# Display the updated DataFrame\n",
    "df_filled.head()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "be997188-e8d6-4b93-9386-b5e84744bc8d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>from_city_id</th>\n",
       "      <th>to_city_id</th>\n",
       "      <th>within_city</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   from_city_id  to_city_id  within_city\n",
       "0           0.0         0.0            1\n",
       "1           0.0         0.0            1\n",
       "2           0.0         0.0            1\n",
       "3           0.0         0.0            1\n",
       "4           0.0         0.0            1"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Create a copy of the filled dataframe to work on\n",
    "df_processed = df.fillna(0).copy()\n",
    "\n",
    "# Create the 'within_city' binary variable\n",
    "df_processed['within_city'] = (df_processed['from_city_id'] == df_processed['to_city_id']).astype(int)\n",
    "\n",
    "# Display a sample of the updated dataframe with the new variable\n",
    "df_processed[['from_city_id', 'to_city_id', 'within_city']].head()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "93582301-216d-483e-a93c-ecbd59aee148",
   "metadata": {},
   "outputs": [
    {
     df_processed['booking_created'] = pd.to_datetime(df_processed['booking_created'], errors='coerce')\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>booking_created</th>\n",
       "      <th>booking_created_Hour</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2013-01-01 08:01:00</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2013-01-01 09:59:00</td>\n",
       "      <td>9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2013-01-01 12:14:00</td>\n",
       "      <td>12</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2013-01-01 12:42:00</td>\n",
       "      <td>12</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2013-01-01 15:07:00</td>\n",
       "      <td>15</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "      booking_created  booking_created_Hour\n",
       "0 2013-01-01 08:01:00                     8\n",
       "1 2013-01-01 09:59:00                     9\n",
       "2 2013-01-01 12:14:00                    12\n",
       "3 2013-01-01 12:42:00                    12\n",
       "4 2013-01-01 15:07:00                    15"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Convert 'booking_created' to datetime format\n",
    "df_processed['booking_created'] = pd.to_datetime(df_processed['booking_created'], errors='coerce')\n",
    "\n",
    "# Extract hour from the datetime column\n",
    "df_processed['booking_created_Hour'] = df_processed['booking_created'].dt.hour\n",
    "\n",
    "# Show a preview of the new variable\n",
    "df_processed[['booking_created', 'booking_created_Hour']].head()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "f3f13fbb-19ac-4b99-8497-97162ea10ee2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>from_lat</th>\n",
       "      <th>from_long</th>\n",
       "      <th>to_lat</th>\n",
       "      <th>to_long</th>\n",
       "      <th>trip_length</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>13.028530</td>\n",
       "      <td>77.54625</td>\n",
       "      <td>12.869805</td>\n",
       "      <td>77.653211</td>\n",
       "      <td>21.048611</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>12.999874</td>\n",
       "      <td>77.67812</td>\n",
       "      <td>12.953434</td>\n",
       "      <td>77.706510</td>\n",
       "      <td>5.990251</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>12.908993</td>\n",
       "      <td>77.68890</td>\n",
       "      <td>13.199560</td>\n",
       "      <td>77.706880</td>\n",
       "      <td>32.204802</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>12.997890</td>\n",
       "      <td>77.61488</td>\n",
       "      <td>12.994740</td>\n",
       "      <td>77.607970</td>\n",
       "      <td>0.826682</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>12.926450</td>\n",
       "      <td>77.61206</td>\n",
       "      <td>12.858833</td>\n",
       "      <td>77.589127</td>\n",
       "      <td>7.883644</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "    from_lat  from_long     to_lat    to_long  trip_length\n",
       "0  13.028530   77.54625  12.869805  77.653211    21.048611\n",
       "1  12.999874   77.67812  12.953434  77.706510     5.990251\n",
       "2  12.908993   77.68890  13.199560  77.706880    32.204802\n",
       "3  12.997890   77.61488  12.994740  77.607970     0.826682\n",
       "4  12.926450   77.61206  12.858833  77.589127     7.883644"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from geopy.distance import geodesic\n",
    "\n",
    "# Define a function to calculate trip length using GPS coordinates\n",
    "def calculate_trip_length(row):\n",
    "    from_coords = (row['from_lat'], row['from_long'])\n",
    "    to_coords = (row['to_lat'], row['to_long'])\n",
    "    try:\n",
    "        return geodesic(from_coords, to_coords).kilometers\n",
    "    except:\n",
    "        return 0  # return 0 if there is an error or invalid coordinates\n",
    "\n",
    "# Apply the function to each row\n",
    "df_processed['trip_length'] = df_processed.apply(calculate_trip_length, axis=1)\n",
    "\n",
    "# Show a preview of the new variable\n",
    "df_processed[['from_lat', 'from_long', 'to_lat', 'to_long', 'trip_length']].head()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "3d5739e6-573f-4411-9a53-ed46b2e43278",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "((6000, 6), (4000, 6), (6000,), (4000,))"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "\n",
    "# Define the predictor variables (X) and outcome variable (y)\n",
    "X = df_processed[['travel_type_id', 'within_city', 'online_booking', 'mobile_site_booking', 'booking_created_Hour', 'trip_length']]\n",
    "y = df_processed['Car_Cancellation']\n",
    "\n",
    "# Split the data into 60% training and 40% testing sets\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.40, random_state=42)\n",
    "\n",
    "# Display the sizes of the training and test sets\n",
    "X_train.shape, X_test.shape, y_train.shape, y_test.shape\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "1c30fe4d-a0b0-4df3-b0c8-3d9606d920c2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "({'Decision Tree Accuracy': 0.88275,\n",
       "  'Random Forest Accuracy': 0.90325,\n",
       "  'Neural Network Accuracy': 0.92875},\n",
       " '              precision    recall  f1-score   support\\n\\n           0       0.94      0.94      0.94      3717\\n           1       0.18      0.18      0.18       283\\n\\n    accuracy                           0.88      4000\\n   macro avg       0.56      0.56      0.56      4000\\nweighted avg       0.88      0.88      0.88      4000\\n',\n",
       " '              precision    recall  f1-score   support\\n\\n           0       0.93      0.96      0.95      3717\\n           1       0.20      0.12      0.15       283\\n\\n    accuracy                           0.90      4000\\n   macro avg       0.57      0.54      0.55      4000\\nweighted avg       0.88      0.90      0.89      4000\\n',\n",
       " '              precision    recall  f1-score   support\\n\\n           0       0.93      1.00      0.96      3717\\n           1       0.00      0.00      0.00       283\\n\\n    accuracy                           0.93      4000\\n   macro avg       0.46      0.50      0.48      4000\\nweighted avg       0.86      0.93      0.89      4000\\n')"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from sklearn.tree import DecisionTreeClassifier\n",
    "from sklearn.ensemble import RandomForestClassifier\n",
    "from sklearn.neural_network import MLPClassifier\n",
    "from sklearn.metrics import accuracy_score, classification_report\n",
    "\n",
    "# Initialize models\n",
    "dt_model = DecisionTreeClassifier(random_state=42)\n",
    "rf_model = RandomForestClassifier(n_estimators=100, random_state=42)\n",
    "nn_model = MLPClassifier(hidden_layer_sizes=(50, 25), max_iter=500, random_state=42)\n",
    "\n",
    "# Train the models\n",
    "dt_model.fit(X_train, y_train)\n",
    "rf_model.fit(X_train, y_train)\n",
    "nn_model.fit(X_train, y_train)\n",
    "\n",
    "# Make predictions\n",
    "y_pred_dt = dt_model.predict(X_test)\n",
    "y_pred_rf = rf_model.predict(X_test)\n",
    "y_pred_nn = nn_model.predict(X_test)\n",
    "\n",
    "# Evaluate models\n",
    "accuracy_dt = accuracy_score(y_test, y_pred_dt)\n",
    "accuracy_rf = accuracy_score(y_test, y_pred_rf)\n",
    "accuracy_nn = accuracy_score(y_test, y_pred_nn)\n",
    "\n",
    "# Generate classification reports\n",
    "report_dt = classification_report(y_test, y_pred_dt)\n",
    "report_rf = classification_report(y_test, y_pred_rf)\n",
    "report_nn = classification_report(y_test, y_pred_nn)\n",
    "\n",
    "# Display results\n",
    "accuracy_results = {\n",
    "    \"Decision Tree Accuracy\": accuracy_dt,\n",
    "    \"Random Forest Accuracy\": accuracy_rf,\n",
    "    \"Neural Network Accuracy\": accuracy_nn\n",
    "}\n",
    "\n",
    "accuracy_results, report_dt, report_rf, report_nn\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4e5774a4-38d9-4dad-8ab7-2c2d952d5b65",
   "metadata": {},
   "source": [
    "**Model After Data Cleaning**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "d2798b32-c8fb-4a10-9f4d-0b73451351c4",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
         }
   ],
   "source": [
    "!pip install imbalanced-learn"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "id": "e52a3772-776b-4f3e-946e-6becceb6a05d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAApIAAAHUCAYAAACJYciKAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjguNCwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8fJSN1AAAACXBIWXMAAA9hAAAPYQGoP6dpAAAxJklEQVR4nO3de3iMZ+L/8c8QOUuIiAiS0C6hxLFa4efwdRZ6tV1t11JRhy0timqdum1o0Grtt0e0W7SqddiuauscdWhtgtIvilarRLTqGMQpKXL//ug1s0YmJHcl0Xi/rmuu3Xnmnue5Z+ZJ+s488wyHMcYIAAAAKKBSxT0BAAAA/DERkgAAALBCSAIAAMAKIQkAAAArhCQAAACsEJIAAACwQkgCAADACiEJAAAAK4QkAAAArBCSuGm8++67cjgcbpeKFSuqdevWWrJkSXFPzyU6Olp9+vQp8P3Onz+vxMRErVu37obPKS0tTfHx8QoJCZHD4dCwYcNyjUlMTMz1/Hq6tG7d2uM21q1bJ4fDcUPn36dPHwUGBt6w9d1oKSkpSkxM1KlTp3LdFh0dra5du/6u9f/444/y8fFRamqqa1mfPn3cXo+AgABFR0frnnvu0ezZs5WdnW29vWXLlikxMfF3zfn3bsf25+dGOXfunF544QU1bNhQgYGBCggIUIMGDTRp0iSdO3fOer3X2ldat26d6+fK4XAUyWtxtZkzZ6pKlSq/67ECVyIkcdOZPXu2UlNTlZKSorffflulS5dWt27d9NlnnxX31H6X8+fPa/z48YUSksOHD9emTZs0a9Yspaamavjw4bnG9O/fX6mpqa7LokWLJElDhgxxWz5t2jSP22jUqJFSU1PVqFGjGz7/m1VKSorGjx/vMQ5uhJEjR6p9+/Zq1qyZ23I/Pz/X67FkyRJNmDBBAQEBGjBggBo3bqyffvrJanvLli3T+PHjb8TUrbfz8ccf6+9//3uhz8GTI0eO6O6779aECRPUsWNHffzxx1q8eLE6d+6spKQk3X333Tpy5IjVugu6r6Smpqp///5W2/o9EhISFBAQoClTphT5tlEyeRX3BICr1a1bV02aNHFd79Spk8qXL6958+apW7duxTizm9fOnTvVtGlT3XvvvXmOqVq1qqpWreq6npaWJkmKjIzU3Xffnef9Ll68KIfDoaCgoGuOQ8F8++23Wrx4sVasWJHrtlKlSuV6rnv37q1HHnlEXbt2Vffu3bVx48aimuoN1bBhw2Lbdu/evfXdd99p7dq1atGihWt5+/btFR8frzZt2ighIcHja3Kj3cifpcuXL+vSpUvy8fG57lgvLy89+uijev755zVq1Cj5+/vfsHng1sQ7krjp+fr6ytvbW2XKlHFbnpGRoccee0xVqlSRt7e3atSooXHjxrkO/WVlZalhw4a6/fbbdfr0adf9Dh8+rPDwcLVu3VqXL1+W9N9DrLt27VLbtm0VEBCgihUravDgwTp//vx155ienq5evXopLCxMPj4+ql27tqZOnaqcnBxJv0VbxYoVJUnjx493Hba83iG+663Xebh57969Wr58uWu9zkgsKOf63n//fT355JOqUqWKfHx8tHfvXo+Htn/v85Zfq1evVtu2bRUUFCR/f381b95cn3/+udsY56H7Xbt2qUePHgoODlalSpXUt29ft9dfkk6dOqV+/fopJCREgYGBio+P1759+9wONyYmJuqpp56SJFWvXt313F79jvKKFSvUqFEj+fn5KSYmRrNmzcrXY5o+fbrCw8PVvn37fD8PHTp00IABA7Rp0yZ98cUXbrctWLBAzZo1U0BAgAIDA9WxY0f93//9n+v2Pn366M0335Qkt0Pnzn3FGKNp06apQYMG8vPzU/ny5dW9e3ft27cv1zxWrFihtm3bKjg4WP7+/qpdu7YmT56cr+1cfWjbuV/NmzdP48aNU0REhIKCgtSuXTvt2bPHbbvGGE2aNElRUVHy9fVVkyZNlJyc7PHQ8dW2bNmiVatWqV+/fm4R6dSiRQv17dtXK1eu1NatWyX99nPrcDj07rvv5hpvs6/kdX+nw4cP69FHH1XVqlXl7e2t6tWra/z48bp06ZJrjHNOU6ZMUVJSkqpXry4fHx+tXbtWOTk5SkpKUq1ateTn56dy5copNjZWr776qtt2evbsqczMTM2fP/+azxmQH4QkbjrOv64vXryon376ScOGDdO5c+f017/+1TUmKytLbdq00Zw5czRixAgtXbpUvXr10pQpU3T//fdL+i1AFy5cqKNHj6pv376SpJycHPXs2VPGGM2bN0+lS5d2rfPixYvq0qWL2rZtq8WLF2vw4MF666239NBDD11zvseOHVNcXJxWrVql559/Xp9++qnatWunkSNHavDgwZKkypUru97l6Nevn+uw5bUO8eVnvc7DzeHh4WrevLlrvZUrV7Z45v9rzJgxSk9P14wZM/TZZ58pLCwsz7G2z1t+zZ07Vx06dFBQUJDee+89LVy4UCEhIerYsWOumJSkP//5z6pZs6b+/e9/a/To0frwww/dDvXn5OSoW7du+vDDDzVq1Ch9/PHHuuuuu9SpUye39fTv319DhgyRJC1atMj13F55aH/79u168sknNXz4cH3yySeKjY1Vv379ckWeJ0uXLlXLli1VqlTBfg3fc889kuS2jUmTJqlHjx6qU6eOFi5cqPfff19nzpzR//t//0+7d++WJP39739X9+7dJcntowzOfeXRRx/VsGHD1K5dOy1evFjTpk3Trl27FBcX53a4d+bMmerSpYtycnJc+8fQoUNdh9uvt528jB07VgcOHNA777yjt99+Wz/88IO6devm+mNPksaNG6dx48apU6dO+uSTTzRw4ED1799f33///XWft+TkZEm65rv2ztucY/MrP/vK9Rw+fFhNmzbVypUr9eyzz2r58uXq16+fJk+erAEDBuQa/9prr2nNmjV6+eWXtXz5csXExGjKlClKTExUjx49tHTpUi1YsED9+vXLdbg9PDxcMTExWrp0aYEeJ+CRAW4Ss2fPNpJyXXx8fMy0adPcxs6YMcNIMgsXLnRb/uKLLxpJZtWqVa5lCxYsMJLMK6+8Yp599llTqlQpt9uNMSYhIcFIMq+++qrb8okTJxpJZsOGDa5lUVFRJiEhwXV99OjRRpLZtGmT230HDRpkHA6H2bNnjzHGmGPHjhlJ5rnnnsvX85Hf9TrnFB8fn6/1Ou3fv99IMi+99JJr2dq1a40k07Jly1zjnbetXbvWtawgz5snCQkJJiAgIM/bz507Z0JCQky3bt3cll++fNnUr1/fNG3a1LXsueeeM5LMlClT3MY+9thjxtfX1+Tk5BhjjFm6dKmRZKZPn+42bvLkyblen5deeslIMvv37881t6ioKOPr62sOHDjgWnbhwgUTEhJiHn300Ws+7iNHjhhJ5oUXXsh12/Wek2+//dZIMoMGDTLGGJOenm68vLzMkCFD3MadOXPGhIeHmwcffNC17PHHHzeefu2npqYaSWbq1Kluyw8ePGj8/PzM008/7VpnUFCQadGihev59CSv7RiT++fHuV916dLFbdzChQuNJJOammqMMSYjI8P4+PiYhx56yOPcW7Vqled8jDFm4MCBRpL57rvv8hxz9XPr/BmZPXt2rrEF2VdatWqVa35X3//RRx81gYGBbvuTMca8/PLLRpLZtWuX25xuu+028+uvv7qN7dq1q2nQoEGej+9KPXv2NJUqVcrXWOBaeEcSN505c+boq6++0ldffaXly5crISFBjz/+uN544w3XmDVr1iggIMD1zoeT85DZle9UPfjggxo0aJCeeuopJSUlaezYsXkeTuzZs6fbdee7oGvXrs1zvmvWrFGdOnXUtGnTXHMxxmjNmjXXf9BFuN78+POf/1yg8TbPW36kpKQoIyNDCQkJunTpkuuSk5OjTp066auvvsp19qnzHTun2NhYZWVl6ejRo5Kk9evXS/ptv7hSjx49Cjy/Bg0aKDIy0nXd19dXNWvW1IEDB655v0OHDknSNd/pzYsxxu36ypUrdenSJfXu3dvtOfL19VWrVq3ydXLXkiVL5HA41KtXL7d1hIeHq379+q51pKSkKDMzU4899pgcDkeB534tnl43Sa7ncuPGjcrOzs71ut19992Kjo6+IXNwPrc3+rHlx5IlS9SmTRtFRES4vQadO3eW9N/91umee+7J9XGfpk2bavv27Xrssce0cuVKZWZm5rm9sLAwHT161O2wOWCDk21w06ldu3auk20OHDigp59+Wr169VK5cuV04sQJhYeH5/qFHxYWJi8vL504ccJted++fTV9+nR5e3tr6NChHrfr5eWlChUquC0LDw+XpFzru9KJEyc8/ocsIiLiuve9lsJab34U5NC47fOWH85Dqlf/wXCljIwMBQQEuK5fPRfnCQgXLlxwzcnLy0shISFu4ypVqlTg+V29Lef2nNvKi/N2X1/fAm/TGVbO/cD5HN15550ex+fn0PmRI0dkjMnzOahRo4ak3z5uIcntpK0bJT+vm+T5dcrPa+cM/v3796tWrVoexzg/x1mtWrX8TfoGOnLkiD777LNcceh0/Phxt+uefkbHjBmjgIAAzZ07VzNmzFDp0qXVsmVLvfjii26/U6Xf9j1jjLKysm7qr+DCzY+QxB9CbGysVq5cqe+//15NmzZVhQoVtGnTJhlj3GLS+Rd2aGioa9m5c+f08MMPq2bNmjpy5Ij69++vTz75JNc2Ll26pBMnTrj9B+3w4cOSPAeDU4UKFfTLL7/kWu581+nKuRREYa03Pwryjozt85Yfzsf4+uuv53mWa0EDsEKFCrp06ZIyMjLcYtI556LgfFwZGRkFvu+nn34qSa6TS5zr+uijjxQVFWU9H4fDoS+//NLjmb/OZc4Txmy/fuj3cO5Lnr6e5/Dhw9d9V7J9+/YaO3asFi9enOvzsE6LFy92jZX+G/pXf3dnYfwRFxoaqtjYWE2cONHj7c4/HJw8/Yx6eXlpxIgRGjFihE6dOqXVq1dr7Nix6tixow4ePOh2hnZGRoZ8fHyISPxuHNrGH8K2bdsk/fc/ZG3bttXZs2ddv/id5syZ47rdaeDAgUpPT9eiRYs0c+ZMffrpp/rf//1fj9v54IMP3K5/+OGHknTNM0Lbtm2r3bt36+uvv841F4fDoTZt2kjK/Q7L9eR3vTcDm+ctP5o3b65y5cpp9+7datKkiceLt7d3gdbZqlUrSb+d5XwlT2ewFvQ1y6+oqCj5+fnpxx9/LND9kpOT9c477yguLs515nHHjh3l5eWlH3/8Mc/nyCmvx9O1a1cZY/Tzzz97vH+9evUkSXFxcQoODtaMGTNyHWK/UmE8b3fddZd8fHxyvW4bN2687kcJJKlJkybq0KGDZs6cqf/85z+5bt+wYYNmzZqlTp06qXHjxpJ++yPF19dXO3bscBvr6Q/R3/uYu3btqp07d+q2227z+BpcHZLXU65cOXXv3l2PP/64MjIycn2Tw759+1SnTh2ruQJX4h1J3HR27tzp+tzOiRMntGjRIiUnJ+u+++5T9erVJf32fXBvvvmmEhISlJaWpnr16mnDhg2aNGmSunTponbt2kmS3nnnHc2dO1ezZ8/WHXfcoTvuuEODBw/WqFGj1Lx5c7fPH3p7e2vq1Kk6e/as7rzzTqWkpCgpKUmdO3f2+HUhTsOHD9ecOXMUHx+vCRMmKCoqSkuXLtW0adM0aNAg1axZU5JUtmxZRUVF6ZNPPlHbtm0VEhKi0NDQPN9Jye96i5vt8+Z0+fJlffTRR7mWBwQEqHPnznr99deVkJCgjIwMde/eXWFhYTp27Ji2b9+uY8eOafr06QWab6dOndS8eXM9+eSTyszMVOPGjZWamur6I+TKQ8HOgHr11VeVkJCgMmXKqFatWipbtmyBtnk1b29vNWvWLM/vgszJyXHdlp2drfT0dC1fvlwLFy5U7dq1tXDhQtfY6OhoTZgwQePGjdO+fftc37t65MgRbd68WQEBAa4vB3c+nhdffFGdO3dW6dKlFRsbq+bNm+tvf/ubHnnkEW3ZskUtW7ZUQECAfvnlF23YsEH16tXToEGDFBgYqKlTp6p///5q166dBgwYoEqVKmnv3r3avn2763PMeW2noNF/pZCQEI0YMUKTJ09W+fLldd999+mnn37S+PHjVbly5Xwdwp8zZ47atWunDh06aOjQoa4/ONesWaNXX31VMTExbl/14/zc6KxZs3Tbbbepfv362rx5s+sPpSv93n1lwoQJSk5OVlxcnIYOHapatWopKytLaWlpWrZsmWbMmHHdjxR069bN9T28FStW1IEDB/TKK68oKipKf/rTn1zjcnJytHnzZvXr1y9fcwOuqdhO8wGu4ums7eDgYNOgQQPzj3/8w2RlZbmNP3HihBk4cKCpXLmy8fLyMlFRUWbMmDGucTt27DB+fn5uZ4gaY0xWVpZp3LixiY6ONidPnjTG/PdM2R07dpjWrVsbPz8/ExISYgYNGmTOnj3rdv+rzzo1xpgDBw6Yv/71r6ZChQqmTJkyplatWuall14yly9fdhu3evVq07BhQ+Pj42Mk5VrP1fK73ht91va//vWvXOPzOms7v8+bJ86zvj1doqKiXOPWr19v4uPjTUhIiClTpoypUqWKiY+Pd5un86ztY8eOuW3DuV9deTZtRkaGeeSRR0y5cuWMv7+/ad++vdm4caPHM9DHjBljIiIiTKlSpdwef17PuaczdD2ZOXOmKV26tDl06NA1nxM/Pz8TGRlpunXrZmbNmmWys7M9rm/x4sWmTZs2JigoyPj4+JioqCjTvXt3s3r1ateY7Oxs079/f1OxYkXjcDhyPS+zZs0yd911lwkICDB+fn7mtttuM7179zZbtmxx29ayZctMq1atTEBAgPH39zd16tQxL774Yr62k9dZ21fvc57OmM7JyTFJSUmmatWqxtvb28TGxpolS5aY+vXrm/vuu++6z7kxxpw9e9ZMmjTJNGjQwPj7+xt/f38TGxtrkpKSPO6zp0+fNv379zeVKlUyAQEBplu3biYtLc3jNzDkta/k56xtY377ZoehQ4ea6tWrmzJlypiQkBDTuHFjM27cONfcPP3cOk2dOtXExcWZ0NBQ4+3tbSIjI02/fv1MWlqa27jPP//cSDJbt27N13MGXIvDmGscnwBuEX369NFHH32ks2fPFvdU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yyosLEz33nuv9uzZ4zbGGKPExERFRETIz89PrVu31q5du9zGZGdna8iQIQoNDVVAQIDuuece/fTTT25jTp48qYcffljBwcEKDg7Www8/rFOnThX2Q0QBTZ48WQ6HQ8OGDXMtYx+4Nfz888/q1auXKlSoIH9/fzVo0EBbt2513c5+UPJdunRJzzzzjKpXry4/Pz/VqFFDEyZMUE5OjmsM+0ERMSXU/PnzTZkyZcw///lPs3v3bvPEE0+YgIAAc+DAgeKeGix07NjRzJ492+zcudNs27bNxMfHm8jISHP27FnXmBdeeMGULVvW/Pvf/zbffPONeeihh0zlypVNZmama8zAgQNNlSpVTHJysvn6669NmzZtTP369c2lS5dcYzp16mTq1q1rUlJSTEpKiqlbt67p2rVrkT5eXNvmzZtNdHS0iY2NNU888YRrOftAyZeRkWGioqJMnz59zKZNm8z+/fvN6tWrzd69e11j2A9KvqSkJFOhQgWzZMkSs3//fvOvf/3LBAYGmldeecU1hv2gaJTYkGzatKkZOHCg27KYmBgzevToYpoRbqSjR48aSWb9+vXGGGNycnJMeHi4eeGFF1xjsrKyTHBwsJkxY4YxxphTp06ZMmXKmPnz57vG/Pzzz6ZUqVJmxYoVxhhjdu/ebSSZjRs3usakpqYaSea7774rioeG6zhz5oz505/+ZJKTk02rVq1cIck+cGsYNWqUadGiRZ63sx/cGuLj403fvn3dlt1///2mV69exhj2g6JUIg9t//rrr9q6das6dOjgtrxDhw5KSUkpplnhRjp9+rQkKSQkRJK0f/9+HT582O019/HxUatWrVyv+datW3Xx4kW3MREREapbt65rTGpqqoKDg3XXXXe5xtx9990KDg5m37lJPP7444qPj1e7du3clrMP3Bo+/fRTNWnSRA888IDCwsLUsGFD/fOf/3Tdzn5wa2jRooU+//xzff/995Kk7du3a8OGDerSpYsk9oOi5FXcEygMx48f1+XLl1WpUiW35ZUqVdLhw4eLaVa4UYwxGjFihFq0aKG6detKkut19fSaHzhwwDXG29tb5cuXzzXGef/Dhw8rLCws1zbDwsLYd24C8+fP19dff62vvvoq123sA7eGffv2afr06RoxYoTGjh2rzZs3a+jQofLx8VHv3r3ZD24Ro0aN0unTpxUTE6PSpUvr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XbtqzJgxGjlypNttFy9e1PTp03XbbbdJkrp37673339fR44cUWBgoOrUqaM2bdpo7dq1euihh1z3q1KlitLT05WTk1Pon8kE8MfEbwYAxe5a77I5RUZGuiJSkpo1a6acnJxch5rzY/fu3crKylL79u0VGBjousyZM0c//vij29jY2FjX/69cubIk6ejRo5KkPXv2qGnTpm7jr75+LddatycXLlzweFg7PT1d7dq10zPPPJMrIiXJ39/fFZGSVKlSJUVHRyswMNBt2dXb9vPzU05OjrKzs/P9mADcWnhHEkCxCwgIKPB9HA6H2/8WhPNM5KVLl6pKlSput/n4+LhdL1OmTK5tXnkm89XbN8bkex7XW/fVQkNDdfLkyVzLK1asqIiICM2fP1/9+vVTUFBQnttxbsvTsqu3nZGRIX9/f/n5+eXvAQG45fCOJIA/hPT0dB06dMh1PTU1VaVKlVLNmjULvK46derIx8dH6enpuv32290u1apVy/d6atWqpc2bN7st27Jli9t1b29vt5NYfo+GDRtq9+7duZb7+flpyZIl8vX1VceOHXXmzJkbsr2dO3eqUaNGN2RdAEom3pEE8Ifg6+urhIQEvfzyy8rMzNTQoUP14IMPXvfzkZ4OfdepU0cjR47U8OHDlZOToxYtWigzM1MpKSkKDAxUQkJCvuY0ZMgQDRgwQE2aNFFcXJwWLFigHTt2qEaNGq4x0dHRWrlypfbs2aMKFSooODi4YA/8Ch07dtR7773n8baAgAAtXbpUnTt3VufOnbVixQq3Q9c2vvzyS3Xo0OF3rQNAyUZIAvhDuP3223X//ferS5cuysjIUJcuXTRt2rTr3u8vf/lLrmX79+/X888/r7CwME2ePFn79u1TuXLl1KhRI40dOzbfc+rZs6f27dunkSNHKisrSw8++KD69Onj9i7lgAEDtG7dOjVp0kRnz57V2rVrFR0dne9tXKlXr14aNWqU9uzZo1q1auW6PTAwUMuXL1fHjh3VpUsXLV++3Go7kvTzzz8rJSVFc+fOtV4HgJLPYQrygR4AKAaJiYlavHhxsf8rNfnRvn17hYeH6/333y+U9T/99NM6ffq03nrrrUJZv9NTTz2l06dP6+233y7U7QD4Y+MdSQCwdP78ec2YMUMdO3ZU6dKlNW/ePK1evVrJycmFts1x48bpzTff1OXLl1W6dOlC205YWJjHM8AB4Eq8IwngpnezviN54cIFdevWTV9//bWys7NVq1YtPfPMM9f9TkwAKCkISQAAAFjh638AAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFj5/9AKURy/u0n3AAAAAElFTkSuQmCC",
      "text/plain": [
       "<Figure size 800x500 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "\n",
    "# Visualizing Outliers using Boxplot\n",
    "plt.figure(figsize=(8, 5))\n",
    "plt.boxplot(df_processed['trip_length'], vert=False, patch_artist=True)\n",
    "plt.title(\"Boxplot of Trip Length (Detecting Outliers)\")\n",
    "plt.xlabel(\"Trip Length (km)\")\n",
    "plt.show()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "id": "4895e5db-9657-4dac-9a3a-0d0caa6a57cd",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Count the number of records before removing outliers\n",
    "initial_count = df_processed.shape[0]\n",
    "\n",
    "# Function to remove outliers using IQR method\n",
    "def remove_outliers(df, column):\n",
    "    Q1 = df[column].quantile(0.25)\n",
    "    Q3 = df[column].quantile(0.75)\n",
    "    IQR = Q3 - Q1\n",
    "    lower_bound = Q1 - 1.5 * IQR\n",
    "    upper_bound = Q3 + 1.5 * IQR\n",
    "    return df[(df[column] >= lower_bound) & (df[column] <= upper_bound)]\n",
    "\n",
    "# Remove outliers from 'trip_length'\n",
    "df_no_outliers = remove_outliers(df_processed, 'trip_length')\n",
    "\n",
    "# Count the number of records after removing outliers\n",
    "final_count = df_no_outliers.shape[0]\n",
    "\n",
    "# Calculate number of records deleted\n",
    "records_deleted = initial_count - final_count\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "id": "b82c8aac-4ea3-4a9a-98b1-c8690516b710",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAApIAAAHUCAYAAACJYciKAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjguNCwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8fJSN1AAAACXBIWXMAAA9hAAAPYQGoP6dpAAAzeUlEQVR4nO3dfXzN9eP/8eeZXV+wZtiGbS4yFyEX+YQKH7na+CbNRdFno7qVTxRRiEJfUkQXQvVJrirqq30kcrHC0tcU4euiUnIxnw+5jGHmYnv9/uh3zsexje3FnOFxv912q/M+7/N+v3ZeZ2ePnfd5Hw5jjBEAAABQRF6eHgAAAACuT4QkAAAArBCSAAAAsEJIAgAAwAohCQAAACuEJAAAAKwQkgAAALBCSAIAAMAKIQkAAAArhCSuipkzZ8rhcLh9lStXTi1bttSiRYs8PTyX2NhYJScnF/l2WVlZGjVqlFatWnXVx7R7924lJCQoLCxMDodDAwYMyLPOqFGj8ty/+X21bNky332sWrVKDofjqo4/OTlZwcHBV217V9uaNWs0atQoHTt2LM91sbGx6tix4xXv4/Dhw/Lz85PD4dD69evzXefrr79W48aNFRQUJIfDoQULFujjjz/WG2+8ccX7L4rk5GS3x4qvr6+qVaumwYMHKzMz85qOpbgUx+O8qH766SclJycrOjpavr6+Cg8PV3x8vJYsWXJF2506dapmzpyZZ/nu3bvlcDjcrnM+H+/evfuK9gkUhrenB4Aby4wZM1SzZk0ZY/T777/r7bffVqdOnbRw4UJ16tTJ08OzlpWVpdGjR0tSgbFma+DAgfruu+/0wQcfKCIiQpGRkXnWefTRR9W+fXvX5f3796tLly7q37+/HnroIdfy0qVL57uPhg0bKj09XbVr176qYy/J1qxZo9GjRys5OVmhoaHFso85c+bo7NmzkqTp06ercePGbtcbY9StWzfVqFFDCxcuVFBQkOLi4vTwww9r69at+f7RUJwCAgK0YsUKSdKxY8c0f/58TZw4UZs3b9by5cuv6ViKg6cf5ykpKXrooYdUtWpVvfDCC4qLi9OBAwc0Y8YMxcfH69lnn9X48eOttj116lSFh4cX6g/hhIQEpaen5/tcAlxthCSuqttuu83tl2n79u11yy23aO7cudd1SBanrVu3qkmTJurcuXOB61SqVEmVKlVyXXa+0hAdHa0777yzwNudO3dODodDpUuXvuR6sPPBBx+ofPnyiomJ0dy5czVp0iQFBAS4rt+3b5+OHj2q+++/X61bty728Zw+fdpt/xfz8vJyexy0b99eO3fuVGpqqnbt2qUqVaoU+xiLkycf57/99psefvhh1a1bV6tWrVJQUJDruq5du6pv376aMGGCGjZsqB49ehTrWMqVK6dy5cpdte1lZWUpMDDwqm0PNxYObaNY+fv7y9fXVz4+Pm7Ljx49qr///e+qWLGifH19VbVqVQ0fPlxnzpyRJGVnZ6tBgwaqXr26jh8/7rrd77//roiICLVs2VI5OTmS/nOIddu2bWrdurWCgoJUrlw59evXT1lZWZcdY0ZGhnr16qXy5cvLz89PtWrV0sSJE5Wbmyvpz2hzPimPHj3adWjwcq8MXG67zsNwO3bs0JIlS1zbtT0c5dzenDlzNGjQIFWsWFF+fn7asWNHvof8rvR+K6yvvvpKrVu3VunSpRUYGKjmzZvr66+/dlvHeeh+27ZtevDBB1WmTBlVqFBBffr0cZt/6c9X0h555BGFhYUpODhYCQkJ2rlzpxwOh0aNGuXa3rPPPitJqlKliuu+vfiQ59KlS9WwYUMFBASoZs2a+uCDDwr9fX333XfaunWrHn74YT322GM6fvy4PvvsM7fvyRn/Q4YMkcPhUGxsrFq2bKnFixdrz549boeanc6ePasxY8aoZs2a8vPzU7ly5dS7d28dOnTIbf/Ow/MpKSlq0KCB/P39Xa+aF4XzD78DBw64Lf/kk0/UtGlTBQUFKTg4WO3atdPGjRvd1nE+hn7++We1a9dOQUFBioyM1CuvvCJJWrt2re666y4FBQWpRo0amjVrVp79b926Vffdd59uueUW+fv76/bbb3db79ChQ/L19dULL7yQ57Y///yzHA6H3nrrLUn5H9p2jnHHjh2Kj49XcHCwKleurEGDBrmeb5z+9a9/KTExUSEhIQoNDVXPnj21bt26PIeO8/P6668rKytLkydPdotIp4kTJyo0NFRjx451LXM+7i928aHp2NhYbdu2TWlpaa7HS2xsbIFjKejQdlF+Fjds2KDExETdcsstqlatmiRp586d6tGjh6KiouTn56cKFSqodevW2rRp0yXvG9zgDHAVzJgxw0gya9euNefOnTNnz541e/fuNU899ZTx8vIyS5cuda17+vRpU69ePRMUFGRee+01s3z5cvPCCy8Yb29vEx8f71rvl19+MSEhIaZLly7GGGNycnLMX//6V1O+fHmzb98+13pJSUnG19fXREdHm7Fjx5rly5ebUaNGGW9vb9OxY0e3ccbExJikpCTX5YMHD5qKFSuacuXKmXfeeccsXbrU9OvXz0gyffv2NcYYk52dbZYuXWokmUceecSkp6eb9PR0s2PHjgLvj8Js9/jx4yY9Pd1ERESY5s2bu7abnZ192ft7165dRpKZMGGCa9nKlSuNJFOxYkWTmJhoFi5caBYtWmSOHDnium7lypVW91t+kpKSTFBQ0CXXmTNnjnE4HKZz584mJSXFfPHFF6Zjx46mVKlS5quvvnKtN3LkSCPJxMXFmRdffNGkpqaaSZMmGT8/P9O7d2/Xejk5Oeauu+4y/v7+5pVXXjHLly83o0ePNrfeequRZEaOHGmMMWbv3r2mf//+RpJJSUlx3bfHjx83xvz5OKhUqZKpXbu2mT17tlm2bJnp2rWrkWTS0tIu+70bY8xjjz1mJJlt27aZzMxMExgYaFq2bOm6fu/evSYlJcVIMv379zfp6elmw4YNZtu2baZ58+YmIiLCNa709HTX99e+fXsTFBRkRo8ebVJTU837779vKlasaGrXrm2ysrJc24+JiTGRkZGmatWq5oMPPjArV64033//fZHnKzEx0Xh7e5sDBw64lo0dO9Y4HA7Tp08fs2jRIpOSkmKaNm1qgoKCzLZt29y26evra2rVqmXefPNNk5qaanr37m0kmWHDhpkaNWqY6dOnm2XLlpmOHTsaSWb9+vWu2//8888mJCTEVKtWzcyePdssXrzYPPjgg0aSefXVV13r3X///aZy5comJyfHbezPPfec8fX1NYcPHzbGmEs+zmvVqmVee+0189VXX5kXX3zROBwOM3r0aNd6J0+eNNWrVzdhYWFmypQpZtmyZWbgwIGmSpUqRpKZMWNGgfetMcbUqFHDVKhQ4ZLrdOvWzUgy+/fvN8b853F/Mefz6a5du4wxxmzYsMFUrVrVNGjQwPV42bBhgzHmP88FF47v4tsbU/SfxZiYGDNkyBCTmppqFixYYIwxJi4uzlSvXt3MmTPHpKWlmc8++8wMGjTI7f7GzYeQxFXhfOK6+MvPz89MnTrVbd133nnHSDKffvqp2/JXX33VSDLLly93Lfvkk0+MJPPGG2+YF1980Xh5ebldb8yfvygkmTfffNNt+dixY40k8+2337qWXRySQ4cONZLMd99953bbvn37GofDYbZv326MMebQoUNuoXI5hd2uc0wJCQmF2q7TpULynnvuybN+Qb9gC3u/5edyIXnq1CkTFhZmOnXq5LY8JyfH1K9f3zRp0sS1zPnLa/z48W7r/v3vfzf+/v4mNzfXGGPM4sWLjSQzbdo0t/XGjRuXZ34mTJiQ55epU0xMjPH39zd79uxxLTt9+rQJCwszjz/++CW/b+f3Vrp0aXPnnXe6liUlJRmHw+H2B0Z+82SMMQkJCSYmJibPdufOnWskmc8++8xt+bp164wkt5+lmJgYU6pUKbfH0qU45+vcuXPm3Llz5vDhw2batGnGy8vLPP/88671MjIyjLe3t+nfv7/b7U+cOGEiIiJMt27d3LZ58XjPnTtnypUrZyS5YscYY44cOWJKlSplnnnmGdeyHj16GD8/P5ORkeG2rw4dOpjAwEBz7NgxY4wxCxcuzPPccP78eRMVFWUeeOAB17JLPc4vfr6Jj483cXFxrstTpkwxksySJUvc1nv88ccLFZL+/v5uj4f8DBkyxO15obAhaYwxderUMS1atMizbmFC0uZn8cUXX3Rb9/Dhw67nYuBCHNrGVTV79mytW7dO69at05IlS5SUlKQnn3xSb7/9tmudFStWKCgoSImJiW63dR4qvvBQS7du3dS3b189++yzGjNmjJ5//nm1adMm33337NnT7bLzJJSVK1cWON4VK1aodu3aatKkSZ6xGGNcJyYUVXFttzAeeOCBIq1vc78Vxpo1a3T06FElJSXp/Pnzrq/c3Fy1b99e69at06lTp9xu81//9V9ul+vVq6fs7GwdPHhQkpSWlibpz8fFhR588MEij+/2229XdHS067K/v79q1KihPXv2XPa2n376qTIzM9WnTx/Xsj59+sgYoxkzZhR5LE6LFi1SaGioOnXq5Haf3X777YqIiMhzaL5evXqqUaNGobd/6tQp+fj4yMfHR+Hh4erbt6+6d+/udrh12bJlOn/+vP72t7+5jcHf318tWrTIMwaHw6H4+HjXZW9vb1WvXl2RkZFq0KCBa3lYWJjKly/vdv+uWLFCrVu3VuXKld22mZycrKysLKWnp0uSOnTooIiICLf7dtmyZdq3b5/bHBTE4XDkeY92vXr13MaSlpamkJAQt5PaJLvHVkGMMa7xXEs2P4sXP4+EhYWpWrVqmjBhgiZNmqSNGze63qaDmxsn2+CqqlWrVp6Tbfbs2aPnnntOvXr1UmhoqI4cOaKIiIg8T6bly5eXt7e3jhw54ra8T58+mjZtmnx9ffXUU0/lu19vb2+VLVvWbVlERIQk5dnehY4cOZLve42ioqIue9tLKa7tFkZRztS0vd8Kw/meu4v/YLjQ0aNH3d5PdvFY/Pz8JP15EolzTN7e3goLC3Nbr0KFCkUe38X7cu7Pua9LmT59uvz9/dW+fXvXxwvVq1dPsbGxmjlzpkaPHq1SpUoVeUwHDhzQsWPH5Ovrm+/1hw8fdrtc1LNyAwIC9M0330j68/3GEydO1Ny5c1WvXj0NHTrUNQZJuuOOO/LdhpeX++sPgYGB8vf3d1vm6+ubZ46cy7Ozs12Xjxw5ku/3cPHPibe3tx5++GFNnjxZx44dU2hoqGbOnKnIyEi1a9fust93fmP08/PLM5b8HkeFfWxFR0dr165dl1zH+Z7Fi8O5uNn8LF48Lw6HQ19//bVeeukljR8/XoMGDVJYWJh69uypsWPHKiQkpHgGjxKPkESxq1evnpYtW6ZffvlFTZo0UdmyZfXdd9/JGOMWkwcPHtT58+cVHh7uWnbq1Ck9/PDDqlGjhg4cOKBHH31Un3/+eZ59nD9/XkeOHHGLg99//11S/sHgVLZsWe3fvz/P8n379kmS21iKori2WxhFebXD9n4rDOf3OHny5ALPpC1qAJYtW1bnz5/X0aNH3ULFOeZr4ZdfftG3334rSW6vaF5o2bJlbq/SFVZ4eLjKli2rpUuX5nv9xb+si/rKlpeXl9sfem3atFGjRo00evRo9ezZU5UrV3bN2/z58xUTE1PE76BoivJz0rt3b02YMEHz5s1T9+7dtXDhQg0YMMAq2Asay/fff59neWEfW23atNGUKVO0du3afB/vWVlZSk1N1W233eb6Y80Zt2fOnHH90STl/YPhStn8LOb32IqJidH06dMl/flz8Omnn2rUqFE6e/as3nnnnas6Zlw/OLSNYuc8o8955nPr1q118uRJLViwwG292bNnu653euKJJ5SRkaGUlBRNnz5dCxcu1Ouvv57vfj766CO3yx9//LGkS3/uY+vWrfXjjz9qw4YNecbicDjUqlUrSXlfGbucwm63JLC53wqjefPmCg0N1Y8//qjGjRvn+1XQK28FadGihaQ/zyi+0Lx58/KsW9Q5KyznL9J//OMfWrlypdvXl19+KR8fn8ue/V3QK58dO3bUkSNHlJOTk+/9FRcXd1W/Fz8/P02ZMkXZ2dkaM2aMJKldu3by9vbWb7/9VuC8XS2tW7fWihUrXOHoNHv2bAUGBrpFT61atfSXv/xFM2bM0Mcff6wzZ86od+/eV20sLVq00IkTJ/J8cHh+j638DBw4UAEBAerfv3+ew8SSNHjwYP3xxx8aMWKEa5nzqMXmzZvd1v3iiy/y3L6wr5bnpzh+FmvUqKERI0aobt26eZ7ncHPhFUlcVVu3btX58+cl/XmoKCUlRampqbr//vtdn1H3t7/9TVOmTFFSUpJ2796tunXr6ttvv9XLL7+s+Ph43XvvvZKk999/Xx9++KFmzJihOnXqqE6dOurXr5+GDBmi5s2bu73/0NfXVxMnTtTJkyd1xx13aM2aNRozZow6dOigu+66q8DxDhw4ULNnz1ZCQoJeeuklxcTEaPHixZo6dar69u3rev9ZSEiIYmJi9Pnnn6t169YKCwtTeHh4gR/BUdjteprt/eaUk5Oj+fPn51keFBSkDh06aPLkyUpKStLRo0eVmJio8uXL69ChQ/q///s/HTp0SNOmTSvSeNu3b6/mzZtr0KBByszMVKNGjZSenu76I+TCw65169aVJL355ptKSkqSj4+P4uLirugQ3Pnz5zV79mzVqlVLjz76aL7rOD+A/+KP67lQ3bp1lZKSomnTpqlRo0auVwp79Oihjz76SPHx8Xr66afVpEkT+fj46F//+pdWrlyp++67T/fff7/1+PPTokULxcfHa8aMGRo6dKiqVKmil156ScOHD9fOnTtdnwV74MABff/99woKCrL6mKH8jBw5UosWLVKrVq304osvKiwsTB999JEWL16s8ePHq0yZMm7r9+nTR48//rj27dunZs2aXdWwTkpK0uuvv65evXppzJgxql69upYsWaJly5ZJyntI/2LVqlXTnDlz1LNnT91xxx165plnXB9I/sEHH2jJkiUaPHiwunfv7rpNfHy8wsLC9Mgjj+ill16St7e3Zs6cqb179+bZft26dTVv3jx98sknqlq1qvz9/V2P8csJDg6+4p/FzZs3q1+/furatatuvfVW+fr6asWKFdq8ebPrbRG4SXn0VB/cMPI7a7tMmTLm9ttvN5MmTcrzkTZHjhwxTzzxhImMjDTe3t4mJibGDBs2zLXe5s2bTUBAgNsZ1sb8+VE8jRo1MrGxseaPP/4wxvznbNTNmzebli1bmoCAABMWFmb69u1rTp486Xb7i8/aNsaYPXv2mIceesiULVvW+Pj4mLi4ODNhwoQ8HzXy1VdfmQYNGhg/Pz8jKc92LlbY7V7ts7b/53/+J8/6BZ3NWtj7LT/Os2Hz+7rwjOS0tDSTkJBgwsLCjI+Pj6lYsaJJSEhwG6fzTNFDhw657SO/s1ePHj1qevfubUJDQ01gYKBp06aNWbt2bb5noA8bNsxERUUZLy8vt++/oPu8RYsW+Z4Z67RgwYLLnrnq/KioiRMnFnjW9tGjR01iYqIJDQ01DofD7czdc+fOmddee83Ur1/f+Pv7m+DgYFOzZk3z+OOPm19//dW1XlEfN5c6y37Lli3Gy8vL7aOWFixYYFq1amVKly5t/Pz8TExMjElMTHT7qJiCttmiRQtTp06dPMvzG/OWLVtMp06dTJkyZYyvr6+pX79+gWdIHz9+3AQEBBhJ5h//+Eee6y/1OL9YfmdMZ2RkmC5dupjg4GATEhJiHnjgAfPll18aSebzzz/Pd0wX27Ztm0lKSjKVKlUyPj4+JiwszLRv394sXrw43/W///5706xZMxMUFGQqVqxoRo4cad5///08j/vdu3ebtm3bmpCQELefscJ+/I8xV/azeODAAZOcnGxq1qxpgoKCTHBwsKlXr555/fXXzfnz5wt13+DG5DDm/59GBlynkpOTNX/+fJ08edLTQ7mu3Ej328cff6yePXvqf//3f9WsWTNPDwc3kJdfflkjRoxQRkaG278uBeBPHNoGcF2ZO3eu/v3vf6tu3bry8vLS2rVrNWHCBN1zzz1EJK6I82PKatasqXPnzmnFihV666231KtXLyISKAAhCeC6EhISonnz5mnMmDE6deqUIiMjlZyc7DpZBLAVGBio119/Xbt379aZM2cUHR2tIUOGuJ0gA8Adh7YBAABghY//AQAAgBVCEgAAAFYISQAAAFi55ifb5Obmat++fQoJCbnm/3A9AAAALs8YoxMnTigqKuqSH8h/zUNy37591/wfrAcAAEDR7d2795Iff3XNQ9L5z5Pt3btXpUuXvta7BwAAwGVkZmaqcuXKl/1nZa95SDoPZ5cuXZqQBAAAKMEu9zZETrYBAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCFkAQAAIAVQhIAAABWCEkAAABYISQBAABghZAEAACAFUISAAAAVghJAAAAWCEkAQAAYIWQBAAAgBVCEgAAAFYISQAAAFghJAEAAGCF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zn3lt+zifR89elSBgYEKCAgo3DcE4KbDK5IArgsZGRnat2+f63J6erq8vLxUo0aNIm+rdu3a8vPzU0ZGhqpXr+72Vbly5UJvJy4uTt9//73bsvXr17td9vX1dTuJ5Uo0aNBAP/74Y57lAQEBWrRokfz9/dWuXTudOHHiquxv69atatiw4VXZFoAbE69IArgu+Pv7KykpSa+99poyMzP11FNPqVu3bpd9f2R+h75r166twYMHa+DAgcrNzdVdd92lzMxMrVmzRsHBwUpKSirUmPr376/HHntMjRs3VrNmzfTJJ59o8+bNqlq1qmud2NhYLVu2TNu3b1fZsmVVpkyZon3jF2jXrp1mzZqV73VBQUFavHixOnTooA4dOmjp0qVuh65trF69Wm3btr2ibQC4sRGSAK4L1atXV5cuXRQfH6+jR48qPj5eU6dOveztevTokWfZrl279N///d8qX768xo0bp507dyo0NFQNGzbU888/X+gx9ezZUzt37tTgwYOVnZ2tbt26KTk52e1Vyscee0yrVq1S48aNdfLkSa1cuVKxsbGF3seFevXqpSFDhmj79u2Ki4vLc31wcLCWLFmidu3aKT4+XkuWLLHajyT9+9//1po1a/Thhx9abwPAjc9hivKGHgDwgFGjRmnBggUe/1dqCqNNmzaKiIjQnDlzimX7zz33nI4fP6533323WLbv9Oyzz+r48eN67733inU/AK5vvCIJAJaysrL0zjvvqF27dipVqpTmzp2rr776SqmpqcW2z+HDh2vKlCnKyclRqVKlim0/5cuXz/cMcAC4EK9IAijxSuorkqdPn1anTp20YcMGnTlzRnFxcRoxYsRlPxMTAG4UhCQAAACs8PE/AAAAsEJIAgAAwAohCQAAACuEJAAAAKwQkgAAALBCSAIAAMAKIQkAAAArhCQAAACs/D9qybDTgkhHpQAAAABJRU5ErkJggg==",
      "text/plain": [
       "<Figure size 800x500 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Visualize boxplot after removing outliers from trip_length\n",
    "plt.figure(figsize=(8, 5))\n",
    "plt.boxplot(df_no_outliers['trip_length'], vert=False, patch_artist=True)\n",
    "plt.title(\"Boxplot of Trip Length After Removing Outliers\")\n",
    "plt.xlabel(\"Trip Length (km)\")\n",
    "plt.show()\n"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "83e52b46-c914-4c00-bf4b-5e3d1d05be4b",
   "metadata": {},
   "source": [
    "*Scaling and Standardization*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "id": "cef551d8-828d-4996-ac64-c5a840be356d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>trip_length</th>\n",
       "      <th>booking_created_Hour</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>count</th>\n",
       "      <td>7.924000e+03</td>\n",
       "      <td>7.924000e+03</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>mean</th>\n",
       "      <td>-1.362980e-16</td>\n",
       "      <td>3.541953e-17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>std</th>\n",
       "      <td>1.000063e+00</td>\n",
       "      <td>1.000063e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>min</th>\n",
       "      <td>-1.643011e+00</td>\n",
       "      <td>-2.698764e+00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25%</th>\n",
       "      <td>-8.447658e-01</td>\n",
       "      <td>-6.471761e-01</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>50%</th>\n",
       "      <td>-2.564154e-01</td>\n",
       "      <td>9.885582e-02</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>75%</th>\n",
       "      <td>8.595838e-01</td>\n",
       "      <td>8.448877e-01</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>max</th>\n",
       "      <td>3.433842e+00</td>\n",
       "      <td>1.590920e+00</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "        trip_length  booking_created_Hour\n",
       "count  7.924000e+03          7.924000e+03\n",
       "mean  -1.362980e-16          3.541953e-17\n",
       "std    1.000063e+00          1.000063e+00\n",
       "min   -1.643011e+00         -2.698764e+00\n",
       "25%   -8.447658e-01         -6.471761e-01\n",
       "50%   -2.564154e-01          9.885582e-02\n",
       "75%    8.595838e-01          8.448877e-01\n",
       "max    3.433842e+00          1.590920e+00"
      ]
     },
     "execution_count": 41,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from sklearn.preprocessing import StandardScaler\n",
    "\n",
    "# Create a copy of the cleaned dataset (without outliers)\n",
    "df_scaled = df_no_outliers.copy()\n",
    "\n",
    "# Initialize the scaler\n",
    "scaler = StandardScaler()\n",
    "\n",
    "# Columns to scale\n",
    "numeric_features = ['trip_length', 'booking_created_Hour']\n",
    "\n",
    "# Apply standardization\n",
    "df_scaled[numeric_features] = scaler.fit_transform(df_scaled[numeric_features])\n",
    "\n",
    "# Display the scaled values\n",
    "df_scaled[numeric_features].describe()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "id": "9048cfd2-fb0d-4379-b24a-7333b7effcb5",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
   
   "source": [
    "!pip install imbalanced-learn"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "id": "4b1f5f1b-195e-44d8-9443-848d93b8c8c4",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Car_Cancellation\n",
       "0    7278\n",
       "1     646\n",
       "Name: count, dtype: int64"
      ]
     },
     "execution_count": 47,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Check class distribution before oversampling\n",
    "class_counts_before = df_scaled['Car_Cancellation'].value_counts()\n",
    "class_counts_before"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "id": "89cc4631-2252-44e9-9a63-9d2e234caa20",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Car_Cancellation\n",
       "0    7278\n",
       "1    7278\n",
       "Name: count, dtype: int64"
      ]
     },
     "execution_count": 51,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "\n",
    "\n",
    "# Apply SMOTE for oversampling the minority class (cancellations)\n",
    "from imblearn.over_sampling import SMOTE\n",
    "\n",
    "# Define features and target variable\n",
    "X = df_scaled[['travel_type_id', 'within_city', 'online_booking', 'mobile_site_booking', 'booking_created_Hour', 'trip_length']]\n",
    "y = df_scaled['Car_Cancellation']\n",
    "\n",
    "# Initialize SMOTE\n",
    "smote = SMOTE(random_state=42)\n",
    "\n",
    "# Perform oversampling\n",
    "X_resampled, y_resampled = smote.fit_resample(X, y)\n",
    "\n",
    "# Check class distribution after oversampling\n",
    "class_counts_after = pd.Series(y_resampled).value_counts()\n",
    "\n",
    "# Display the results\n",
    "class_counts_after\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "id": "5fbe47d7-d12b-4d4c-93a0-77cb4833bb05",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "({'Decision Tree Accuracy': 0.8327322685900739,\n",
       "  'Random Forest Accuracy': 0.8402885110767645,\n",
       "  'Neural Network Accuracy': 0.745148548857977},\n",
       " '              precision    recall  f1-score   support\\n\\n           0       0.83      0.83      0.83      2891\\n           1       0.84      0.83      0.83      2932\\n\\n    accuracy                           0.83      5823\\n   macro avg       0.83      0.83      0.83      5823\\nweighted avg       0.83      0.83      0.83      5823\\n',\n",
       " '              precision    recall  f1-score   support\\n\\n           0       0.83      0.85      0.84      2891\\n           1       0.85      0.83      0.84      2932\\n\\n    accuracy                           0.84      5823\\n   macro avg       0.84      0.84      0.84      5823\\nweighted avg       0.84      0.84      0.84      5823\\n',\n",
       " '              precision    recall  f1-score   support\\n\\n           0       0.75      0.72      0.74      2891\\n           1       0.74      0.77      0.75      2932\\n\\n    accuracy                           0.75      5823\\n   macro avg       0.75      0.74      0.74      5823\\nweighted avg       0.75      0.75      0.74      5823\\n')"
      ]
     },
     "execution_count": 53,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.tree import DecisionTreeClassifier\n",
    "from sklearn.ensemble import RandomForestClassifier\n",
    "from sklearn.neural_network import MLPClassifier\n",
    "from sklearn.metrics import accuracy_score, classification_report\n",
    "\n",
    "# Split the balanced dataset into training (60%) and test (40%) sets\n",
    "X_train, X_test, y_train, y_test = train_test_split(X_resampled, y_resampled, test_size=0.40, random_state=42)\n",
    "\n",
    "# Initialize models\n",
    "dt_model = DecisionTreeClassifier(random_state=42)\n",
    "rf_model = RandomForestClassifier(n_estimators=100, random_state=42)\n",
    "nn_model = MLPClassifier(hidden_layer_sizes=(50, 25), max_iter=500, random_state=42)\n",
    "\n",
    "# Train the models\n",
    "dt_model.fit(X_train, y_train)\n",
    "rf_model.fit(X_train, y_train)\n",
    "nn_model.fit(X_train, y_train)\n",
    "\n",
    "# Make predictions\n",
    "y_pred_dt = dt_model.predict(X_test)\n",
    "y_pred_rf = rf_model.predict(X_test)\n",
    "y_pred_nn = nn_model.predict(X_test)\n",
    "\n",
    "# Evaluate models\n",
    "accuracy_dt = accuracy_score(y_test, y_pred_dt)\n",
    "accuracy_rf = accuracy_score(y_test, y_pred_rf)\n",
    "accuracy_nn = accuracy_score(y_test, y_pred_nn)\n",
    "\n",
    "# Generate classification reports\n",
    "report_dt = classification_report(y_test, y_pred_dt)\n",
    "report_rf = classification_report(y_test, y_pred_rf)\n",
    "report_nn = classification_report(y_test, y_pred_nn)\n",
    "\n",
    "# Display accuracy results\n",
    "accuracy_results = {\n",
    "    \"Decision Tree Accuracy\": accuracy_dt,\n",
    "    \"Random Forest Accuracy\": accuracy_rf,\n",
    "    \"Neural Network Accuracy\": accuracy_nn\n",
    "}\n",
    "\n",
    "accuracy_results, report_dt, report_rf, report_nn\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "74e161f4-fe99-43a9-9790-e21cc38ab08b",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
